diff -up iscsitarget-0.4.15/etc/initd/initd.redhat.initscript iscsitarget-0.4.15/etc/initd/initd.redhat
--- iscsitarget-0.4.15/etc/initd/initd.redhat.initscript	2008-12-27 21:53:01.000000000 +0100
+++ iscsitarget-0.4.15/etc/initd/initd.redhat	2009-09-13 20:01:02.000000000 +0200
@@ -1,4 +1,4 @@
-#!/bin/sh
+#!/bin/bash
 #
 # chkconfig: - 39 35
 # description: Starts and stops the iSCSI target
@@ -6,6 +6,14 @@
 # pidfile: /var/run/ietd.pid
 # config:  /etc/ietd.conf
 
+### BEGIN INIT INFO
+# Provides: iscsi-target
+# Required-Start: $local_fs $network $remote_fs $syslog
+# Required-Stop: $local_fs $network $remote_fs $syslog
+# Short-Description: start and stop ietd
+# Description: Starts and stops the iSCSI target
+### END INIT INFO
+
 # Source function library.
 if [ -f /etc/init.d/functions ] ; then
   . /etc/init.d/functions
@@ -22,10 +30,14 @@ RETVAL=0
 start()
 {
 	echo -n "Starting iSCSI target service: "
-	modprobe -q crc32c
+	# 2> /dev/null for kernels where regular crc32c is build in, as there
+	# modprobe will sometimes pick a CPU specific one which will then fail
+	# if not loaded on the right CPU, ie crc32c_intel on an amd64
+	modprobe crc32c 2> /dev/null
 	modprobe iscsi_trgt
 	daemon /usr/sbin/ietd
 	RETVAL=$?
+	[ $RETVAL -eq 0 ] && touch /var/lock/subsys/iscsi-target
 	echo
 	return $RETVAL
 }
@@ -40,6 +52,7 @@ stop()
 	modprobe -r crc32c 2>/dev/null
 	if [ $RETVAL -eq 0 ]; then
 		echo_success
+		rm -f /var/lock/subsys/iscsi-target
 	else
 		echo_failure
 	fi
@@ -61,6 +74,16 @@ condrestart()
 	fi
 }
 
+try-restart()
+{
+	condrestart
+}
+
+force-reload()
+{
+	try-restart
+}
+
 status()
 {
 	PID=`pidofproc ietd`
@@ -89,7 +112,7 @@ case "$1" in
         status
         ;;
   *)
-        echo $"Usage: $0 {start|stop|restart|status}"
+        echo $"Usage: $0 {start|stop|restart|try-restart|force-reload|status}"
         exit 1
 esac
 
